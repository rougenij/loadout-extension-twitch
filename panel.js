(()=>{"use strict";const e={1:{id:"1",name:"Assault Loadout",primary:{weapon:{id:"ak74",name:"AK-74",category:"Assault Rifle",attachmentSlots:["optic","barrel","underbarrel","magazine","rear_grip"],imageUrl:"/weapons/ak74.png"},attachments:[{id:"red_dot",name:"Red Dot Sight",type:"optic",compatibleWeaponCategories:["Assault Rifle"],imageUrl:"/attachments/red_dot.png"},{id:"compensator",name:"Compensator",type:"barrel",compatibleWeaponCategories:["Assault Rifle"],imageUrl:"/attachments/compensator.png"},{id:"foregrip",name:"Vertical Foregrip",type:"underbarrel",compatibleWeaponCategories:["Assault Rifle"],imageUrl:"/attachments/foregrip.png"}]},secondary:{weapon:{id:"glock",name:"Glock 19",category:"Pistol",attachmentSlots:["optic","barrel","magazine"],imageUrl:"/weapons/glock.png"},attachments:[{id:"extended_mag",name:"Extended Mag",type:"magazine",compatibleWeaponCategories:["Pistol"],imageUrl:"/attachments/extended_mag.png"}]},tactical:{id:"smoke_grenade",name:"Smoke Grenade",description:"Creates a smoke screen",type:"tactical",imageUrl:"/equipment/smoke.png"},lethal:{id:"frag_grenade",name:"Frag Grenade",description:"Explosive grenade",type:"lethal",imageUrl:"/equipment/frag.png"},fieldUpgrade:{id:"trophy_system",name:"Trophy System",description:"Destroys incoming projectiles",type:"fieldUpgrade",imageUrl:"/equipment/trophy.png"},perks:[{id:"ghost",name:"Ghost",description:"Undetectable by UAV",tier:1,imageUrl:"/perks/ghost.png"},{id:"quick_fix",name:"Quick Fix",description:"Health regenerates faster",tier:2,imageUrl:"/perks/quick_fix.png"},{id:"cold_blooded",name:"Cold-Blooded",description:"Undetectable by thermal optics",tier:3,imageUrl:"/perks/cold_blooded.png"}],isPublic:!0,createdAt:Date.now(),updatedAt:Date.now()},2:{id:"2",name:"Sniper Loadout",primary:{weapon:{id:"lr_50",name:"LR .50 Sniper",category:"Sniper Rifle",attachmentSlots:["optic","barrel","stock","magazine","rear_grip"],imageUrl:"/weapons/lr50.png"},attachments:[{id:"sniper_scope",name:"High Power Scope",type:"optic",compatibleWeaponCategories:["Sniper Rifle"],imageUrl:"/attachments/sniper_scope.png"},{id:"heavy_barrel",name:"Heavy Barrel",type:"barrel",compatibleWeaponCategories:["Sniper Rifle"],imageUrl:"/attachments/heavy_barrel.png"}]},secondary:{weapon:{id:"knife",name:"Combat Knife",category:"Melee",attachmentSlots:[],imageUrl:"/weapons/knife.png"},attachments:[]},tactical:{id:"heartbeat_sensor",name:"Heartbeat Sensor",description:"Detects nearby enemies",type:"tactical",imageUrl:"/equipment/heartbeat.png"},lethal:{id:"claymore",name:"Claymore",description:"Proximity explosive",type:"lethal",imageUrl:"/equipment/claymore.png"},perks:[{id:"scavenger",name:"Scavenger",description:"Resupply ammo from fallen enemies",tier:1,imageUrl:"/perks/scavenger.png"},{id:"focus",name:"Focus",description:"Reduced flinch when aiming",tier:2,imageUrl:"/perks/focus.png"},{id:"spotter",name:"Spotter",description:"See enemy equipment through walls",tier:3,imageUrl:"/perks/spotter.png"}],isPublic:!0,createdAt:Date.now(),updatedAt:Date.now()},3:{id:"3",name:"SMG Rush",primary:{weapon:{id:"mp5",name:"MP5",category:"SMG",attachmentSlots:["optic","barrel","stock","magazine","rear_grip"],imageUrl:"/weapons/mp5.png"},attachments:[{id:"reflex_sight",name:"Reflex Sight",type:"optic",compatibleWeaponCategories:["SMG"],imageUrl:"/attachments/reflex.png"},{id:"silencer",name:"Silencer",type:"barrel",compatibleWeaponCategories:["SMG"],imageUrl:"/attachments/silencer.png"},{id:"fast_mag",name:"Fast Mag",type:"magazine",compatibleWeaponCategories:["SMG"],imageUrl:"/attachments/fast_mag.png"}]},tactical:{id:"stun_grenade",name:"Stun Grenade",description:"Slows and impairs enemies",type:"tactical",imageUrl:"/equipment/stun.png"},lethal:{id:"semtex",name:"Semtex",description:"Sticky explosive",type:"lethal",imageUrl:"/equipment/semtex.png"},perks:[{id:"double_time",name:"Double Time",description:"Increased sprint duration",tier:1,imageUrl:"/perks/double_time.png"},{id:"hardline",name:"Hardline",description:"Killstreaks cost one less kill",tier:2,imageUrl:"/perks/hardline.png"},{id:"tracker",name:"Tracker",description:"See enemy footprints",tier:3,imageUrl:"/perks/tracker.png"}],isPublic:!0,createdAt:Date.now(),updatedAt:Date.now()}};class t{constructor(){this.currentStreamerId=null,this.loadouts={},this.activeLoadout="1",this.init()}init(){window.Twitch&&window.Twitch.ext?(window.Twitch.ext.onAuthorized(e=>{this.currentStreamerId=e.channelId,this.loadStreamerLoadouts()}),window.Twitch.ext.onContext(e=>{})):(this.currentStreamerId="test_streamer_123",this.loadStreamerLoadouts())}loadStreamerLoadouts(){if(!this.currentStreamerId)return;const t=document.getElementById("loading"),a=document.getElementById("error"),n=document.getElementById("content"),i=document.getElementById("empty");this.showElement(t),this.hideElement(a),this.hideElement(n),this.hideElement(i),setTimeout(()=>{try{if(this.loadouts=e,0===Object.keys(this.loadouts).length)return this.showElement(i),void this.hideElement(t);this.renderLoadouts(),this.hideElement(t),this.showElement(n)}catch(e){console.error("Error loading mock loadouts:",e),this.showElement(a),this.hideElement(t)}},500)}renderLoadouts(){this.renderLoadoutSelector(),this.renderActiveLoadout()}renderLoadoutSelector(){const e=document.getElementById("loadout-selector");e&&(e.innerHTML="",Object.keys(this.loadouts).forEach(t=>{const a=document.createElement("button");a.className="loadout-btn "+(t===this.activeLoadout?"active":""),a.textContent=`Loadout ${t}`,a.onclick=()=>this.setActiveLoadout(t),e.appendChild(a)}))}setActiveLoadout(e){this.activeLoadout=e,this.renderLoadoutSelector(),this.renderActiveLoadout()}renderActiveLoadout(){const e=document.getElementById("loadout-content");if(!e)return;const t=this.loadouts[this.activeLoadout];if(t){if(e.innerHTML="",t.primary||t.secondary||t.melee){const a=this.createSection("Weapons");t.primary&&a.appendChild(this.createWeaponItem(t.primary,"Primary")),t.secondary&&a.appendChild(this.createWeaponItem(t.secondary,"Secondary")),t.melee&&a.appendChild(this.createWeaponItem(t.melee,"Melee")),e.appendChild(a)}if(t.tactical||t.lethal||t.fieldUpgrade){const a=this.createSection("Equipment");t.tactical&&a.appendChild(this.createEquipmentItem(t.tactical,"Tactical")),t.lethal&&a.appendChild(this.createEquipmentItem(t.lethal,"Lethal")),t.fieldUpgrade&&a.appendChild(this.createEquipmentItem(t.fieldUpgrade,"Field Upgrade")),e.appendChild(a)}if(t.perks&&t.perks.length>0){const a=this.createSection("Perks"),n=document.createElement("div");n.className="perks-grid",t.perks.forEach(e=>{e&&n.appendChild(this.createPerkItem(e))}),a.appendChild(n),e.appendChild(a)}}}createSection(e){const t=document.createElement("div");t.className="section";const a=document.createElement("div");return a.className="section-title",a.textContent=e,t.appendChild(a),t}createWeaponItem(e,t){const a=document.createElement("div");a.className="weapon-item";const n=document.createElement("img");n.className="weapon-image",n.src=e.weapon.imageUrl||"/placeholder.svg",n.alt=e.weapon.name,n.onerror=()=>{n.style.display="none"};const i=document.createElement("div");i.className="item-info";const r=document.createElement("div");r.className="item-name",r.textContent=e.weapon.name;const o=document.createElement("div");if(o.className="item-category",o.textContent=`${t} â€¢ ${e.weapon.category}`,i.appendChild(r),i.appendChild(o),e.attachments&&e.attachments.length>0){const t=document.createElement("div");t.className="attachments",e.attachments.forEach(e=>{const a=document.createElement("span");a.className="attachment",a.textContent=e.name,t.appendChild(a)}),i.appendChild(t)}return a.appendChild(n),a.appendChild(i),a}createEquipmentItem(e,t){const a=document.createElement("div");a.className="equipment-item";const n=document.createElement("img");n.className="equipment-image",n.src=e.imageUrl||"/placeholder.svg",n.alt=e.name,n.onerror=()=>{n.style.display="none"};const i=document.createElement("div");i.className="item-info";const r=document.createElement("div");r.className="item-name",r.textContent=e.name;const o=document.createElement("div");return o.className="item-category",o.textContent=t,i.appendChild(r),i.appendChild(o),a.appendChild(n),a.appendChild(i),a}createPerkItem(e){const t=document.createElement("div");t.className="perk-item";const a=document.createElement("img");a.className="perk-image",a.src=e.imageUrl||"/placeholder.svg",a.alt=e.name,a.onerror=()=>{a.style.display="none"};const n=document.createElement("div");return n.className="perk-name",n.textContent=e.name,t.appendChild(a),t.appendChild(n),t}showElement(e){e&&(e.style.display="block")}hideElement(e){e&&(e.style.display="none")}}document.addEventListener("DOMContentLoaded",()=>{new t})})();